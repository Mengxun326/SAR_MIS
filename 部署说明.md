# 学生学籍管理信息系统 - 部署说明

## 系统概述

本项目是一个完整的学生学籍管理系统，前后端分离架构：
- **前端**：基于React + Ant Design Pro构建的现代化Web界面
- **后端**：基于Spring Boot构建的RESTful API服务
- **数据库**：MySQL存储业务数据

## 部署步骤

### 第一步：环境准备

#### 1.1 安装必要软件
- **Java 8+**：后端运行环境
- **Node.js 16+**：前端构建环境
- **MySQL 5.7+**：数据库
- **Git**：代码管理工具

#### 1.2 验证安装
```bash
# 检查Java版本
java -version

# 检查Node.js版本
node -v
npm -v

# 检查MySQL版本
mysql --version
```

### 第二步：数据库初始化

#### 2.1 创建数据库
```sql
-- 登录MySQL
mysql -u root -p

-- 创建数据库
CREATE DATABASE student_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

#### 2.2 导入数据表结构
```bash
# 使用项目提供的初始化脚本
mysql -u root -p student_management < database-init.sql
```

#### 2.3 验证数据库
```sql
-- 查看创建的表
USE student_management;
SHOW TABLES;

-- 验证管理员用户
SELECT * FROM user WHERE userAccount = 'admin';
```

### 第三步：后端部署

#### 3.1 配置数据库连接
编辑 `springboot-init-master/src/main/resources/application.yml`：
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/student_management
    username: root
    password: 你的MySQL密码
```

#### 3.2 启动后端服务
```bash
# 进入后端目录
cd springboot-init-master

# 使用Maven启动（方式一）
./mvnw spring-boot:run

# 或使用批处理脚本（方式二，Windows）
../start-backend.bat
```

#### 3.3 验证后端启动
- 访问：http://localhost:8101/api/doc.html
- 查看API文档，确认服务正常运行

### 第四步：前端部署

#### 4.1 安装依赖
```bash
# 进入前端目录
cd yupi-antd-frontend-init-master

# 安装依赖
npm install
# 或者
yarn install
```

#### 4.2 启动前端服务
```bash
# 启动开发服务器
npm run start:dev

# 或使用批处理脚本（Windows）
../start-frontend.bat
```

#### 4.3 验证前端启动
- 访问：http://localhost:8000
- 应该看到登录页面

### 第五步：系统验证

#### 5.1 登录测试
1. 打开浏览器访问：http://localhost:8000/user/login
2. 使用默认管理员账号登录：
   - 账号：`admin`
   - 密码：`12345678`

#### 5.2 注册测试
1. 访问：http://localhost:8000/user/register
2. 注册新用户账号
3. 验证注册和登录功能

#### 5.3 功能验证
- 检查用户权限控制
- 测试学生信息管理
- 验证API接口调用

## 常见问题处理

### Q1: 后端启动失败 - 数据库连接错误
**解决方案：**
1. 检查MySQL服务是否启动
2. 验证数据库连接配置
3. 确认数据库用户权限

### Q2: 前端启动失败 - 依赖安装错误
**解决方案：**
```bash
# 清除缓存重新安装
npm cache clean --force
rm -rf node_modules
npm install
```

### Q3: 跨域请求失败
**解决方案：**
- 后端已配置CORS支持
- 前端使用代理转发请求
- 检查防火墙设置

### Q4: 登录后界面空白
**解决方案：**
1. 检查浏览器控制台错误信息
2. 验证API接口返回数据格式
3. 清除浏览器缓存

## 生产环境部署

### 构建前端生产版本
```bash
cd yupi-antd-frontend-init-master
npm run build
```

### 构建后端JAR包
```bash
cd springboot-init-master
./mvnw package -DskipTests
```

### 使用Nginx部署前端
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /path/to/dist;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    
    location /api/ {
        proxy_pass http://localhost:8101;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## 技术支持

如果在部署过程中遇到问题，可以：
1. 查看控制台日志信息
2. 检查网络连接和端口占用
3. 参考项目README文档
4. 提交Issue反馈问题

## 系统架构说明

```
用户浏览器
    ↓
前端服务 (localhost:8000)
    ↓ API调用
后端服务 (localhost:8101)
    ↓ 数据操作
MySQL数据库 (localhost:3306)
```

---

部署完成后，您将拥有一个完整的学生学籍管理系统！ 
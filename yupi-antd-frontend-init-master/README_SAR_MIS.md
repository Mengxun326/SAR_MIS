# å­¦ç”Ÿå­¦ç±ç®¡ç†ä¿¡æ¯ç³»ç»Ÿ (SAR_MIS)

## é¡¹ç›®ç®€ä»‹

å­¦ç”Ÿå­¦ç±ç®¡ç†ä¿¡æ¯ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäº React + Ant Design Pro çš„ç°ä»£åŒ–å­¦ç”Ÿä¿¡æ¯ç®¡ç†å¹³å°ï¼Œä¸ºå­¦æ ¡æä¾›å®Œæ•´çš„å­¦ç”Ÿå­¦ç±ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18.2.0
- **UI ç»„ä»¶åº“**: Ant Design 5.2.2 + Ant Design Pro 6.0.0
- **æ„å»ºå·¥å…·**: Umi 4.0
- **å¼€å‘è¯­è¨€**: TypeScript
- **çŠ¶æ€ç®¡ç†**: Umi å†…ç½®çŠ¶æ€ç®¡ç†
- **HTTP å®¢æˆ·ç«¯**: Umi Request

## åŠŸèƒ½æ¨¡å—

### 1. å­¦ç”Ÿä¿¡æ¯ç®¡ç†
- âœ… å­¦ç”ŸåŸºæœ¬ä¿¡æ¯å½•å…¥ã€ç¼–è¾‘ã€åˆ é™¤
- âœ… å­¦ç”Ÿä¿¡æ¯è¯¦æƒ…æŸ¥çœ‹
- âœ… å­¦ç”Ÿä¿¡æ¯åˆ—è¡¨æŸ¥è¯¢å’Œåˆ†é¡µ
- âœ… æ”¯æŒæŒ‰å­¦å·ã€å§“åã€ä¸“ä¸šã€ç­çº§ç­‰æ¡ä»¶æœç´¢

### 2. æˆç»©ç®¡ç† (å¾…å¼€å‘)
- ğŸ“‹ æˆç»©å½•å…¥å’Œä¿®æ”¹
- ğŸ“‹ æˆç»©ç»Ÿè®¡åˆ†æ
- ğŸ“‹ GPA è®¡ç®—
- ğŸ“‹ æˆç»©æ’å

### 3. è¯¾ç¨‹ç®¡ç† (å¾…å¼€å‘)
- ğŸ“‹ è¯¾ç¨‹ä¿¡æ¯ç®¡ç†
- ğŸ“‹ é€‰è¯¾ç³»ç»Ÿ
- ğŸ“‹ è¯¾ç¨‹å®‰æ’

### 4. å­¦ç±å¼‚åŠ¨ç®¡ç† (å¾…å¼€å‘)
- ğŸ“‹ ä¼‘å­¦ç”³è¯·
- ğŸ“‹ å¤å­¦ç”³è¯·
- ğŸ“‹ è½¬ä¸“ä¸šç”³è¯·
- ğŸ“‹ é€€å­¦ç”³è¯·

### 5. å¥–æƒ©ç®¡ç† (å¾…å¼€å‘)
- ğŸ“‹ å¥–åŠ±è®°å½•ç®¡ç†
- ğŸ“‹ å¤„åˆ†è®°å½•ç®¡ç†

### 6. å®¶åº­ä¿¡æ¯ç®¡ç† (å¾…å¼€å‘)
- ğŸ“‹ å®¶åº­æˆå‘˜ä¿¡æ¯
- ğŸ“‹ è”ç³»æ–¹å¼ç®¡ç†

### 7. å¥åº·æ¡£æ¡ˆç®¡ç† (å¾…å¼€å‘)
- ğŸ“‹ ä½“æ£€è®°å½•
- ğŸ“‹ å¥åº·çŠ¶å†µè·Ÿè¸ª

## é¡¹ç›®é…ç½®

### 1. åç«¯æ¥å£é…ç½®

é¡¹ç›®å·²é…ç½®ä»£ç†ï¼Œå°†å‰ç«¯è¯·æ±‚ä»£ç†åˆ°åç«¯æœåŠ¡å™¨ï¼š

```typescript
// config/proxy.ts
export default {
  dev: {
    '/api/': {
      target: 'http://localhost:8081',  // åç«¯æœåŠ¡åœ°å€
      changeOrigin: true,
    },
  },
};
```

### 2. æƒé™é…ç½®

ç³»ç»Ÿæ”¯æŒä¸‰ç§è§’è‰²æƒé™ï¼š

```typescript
// src/access.ts
export default function access(initialState) {
  const { currentUser } = initialState ?? {};
  return {
    canUser: currentUser,
    canAdmin: currentUser && currentUser.userRole === 'admin',
    canTeacher: currentUser && (currentUser.userRole === 'teacher' || currentUser.userRole === 'admin'),
    canStudent: currentUser && (currentUser.userRole === 'student' || currentUser.userRole === 'admin'),
  };
}
```

- **admin**: ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™
- **teacher**: æ•™å¸ˆï¼Œå¯ä»¥ç®¡ç†æˆç»©ã€è¯¾ç¨‹ç­‰
- **student**: å­¦ç”Ÿï¼Œå¯ä»¥æŸ¥çœ‹è‡ªå·±çš„ä¿¡æ¯

## å®‰è£…å’Œè¿è¡Œ

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run start:dev
```

è®¿é—®åœ°å€ï¼šhttp://localhost:8000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## åç«¯æ¥å£è¦æ±‚

### æ¥å£åŸºç¡€ä¿¡æ¯

- **åç«¯æœåŠ¡åœ°å€**: http://localhost:8081
- **æ¥å£å‰ç¼€**: /api
- **å“åº”æ ¼å¼**: 
```json
{
  "code": 0,
  "data": {},
  "message": "ok"
}
```

### ä¸»è¦æ¥å£åˆ—è¡¨

#### ç”¨æˆ·è®¤è¯
- `POST /api/user/login` - ç”¨æˆ·ç™»å½•
- `POST /api/user/logout` - ç”¨æˆ·æ³¨é”€
- `GET /api/user/get/login` - è·å–å½“å‰ç™»å½•ç”¨æˆ·

#### å­¦ç”Ÿç®¡ç†
- `POST /api/student/add` - æ·»åŠ å­¦ç”Ÿ
- `POST /api/student/update` - æ›´æ–°å­¦ç”Ÿä¿¡æ¯
- `POST /api/student/delete` - åˆ é™¤å­¦ç”Ÿ
- `GET /api/student/get` - è·å–å­¦ç”Ÿè¯¦æƒ…
- `POST /api/student/list/page` - åˆ†é¡µæŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨

æ›´å¤šæ¥å£è¯¦æƒ…è¯·å‚è€ƒ `docs/api/api.md` æ–‡ä»¶ã€‚

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Student/        # å­¦ç”Ÿç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ List.tsx    # å­¦ç”Ÿåˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ Add.tsx     # æ·»åŠ å­¦ç”Ÿ
â”‚   â”‚   â”œâ”€â”€ Edit.tsx    # ç¼–è¾‘å­¦ç”Ÿ
â”‚   â”‚   â””â”€â”€ Detail.tsx  # å­¦ç”Ÿè¯¦æƒ…
â”‚   â”œâ”€â”€ User/           # ç”¨æˆ·ç›¸å…³é¡µé¢
â”‚   â”œâ”€â”€ Admin/          # ç®¡ç†å‘˜é¡µé¢
â”‚   â””â”€â”€ Welcome.tsx     # é¦–é¡µ
â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â””â”€â”€ backend/        # åç«¯æ¥å£
â”œâ”€â”€ access.ts           # æƒé™é…ç½®
â”œâ”€â”€ app.tsx            # åº”ç”¨é…ç½®
â””â”€â”€ global.tsx         # å…¨å±€é…ç½®
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` ä¸‹åˆ›å»ºé¡µé¢ç»„ä»¶
2. åœ¨ `config/routes.ts` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. å¦‚éœ€æƒé™æ§åˆ¶ï¼Œåœ¨è·¯ç”±ä¸­æ·»åŠ  `access` å­—æ®µ

### æ·»åŠ æ–°æ¥å£

1. åœ¨ `src/services/backend/` ä¸‹åˆ›å»ºå¯¹åº”çš„ Controller æ–‡ä»¶
2. åœ¨ `src/services/backend/typings.d.ts` ä¸­æ·»åŠ ç±»å‹å®šä¹‰
3. åœ¨é¡µé¢ä¸­å¯¼å…¥å¹¶ä½¿ç”¨æ¥å£

### æ ·å¼å¼€å‘

é¡¹ç›®ä½¿ç”¨ Ant Design çš„è®¾è®¡è¯­è¨€ï¼Œå»ºè®®ï¼š
- ä¼˜å…ˆä½¿ç”¨ Ant Design ç»„ä»¶
- ä½¿ç”¨ Pro Components æé«˜å¼€å‘æ•ˆç‡
- éµå¾ª Ant Design çš„è®¾è®¡è§„èŒƒ

## éƒ¨ç½²è¯´æ˜

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

1. ç¡®ä¿åç«¯æœåŠ¡åœ¨ 8081 ç«¯å£è¿è¡Œ
2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š`npm run start:dev`
3. è®¿é—® http://localhost:8000

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. æ„å»ºé¡¹ç›®ï¼š`npm run build`
2. å°† `dist` ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨
3. é…ç½®åå‘ä»£ç†å°† `/api` è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡

## å¸¸è§é—®é¢˜

### 1. ä»£ç†é…ç½®ä¸ç”Ÿæ•ˆ

ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨ 8081 ç«¯å£è¿è¡Œï¼Œå¹¶ä¸”æ¥å£è·¯å¾„æ­£ç¡®ã€‚

### 2. æƒé™æ§åˆ¶ä¸ç”Ÿæ•ˆ

æ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€å’Œ `userRole` å­—æ®µæ˜¯å¦æ­£ç¡®è®¾ç½®ã€‚

### 3. é¡µé¢è·¯ç”±ä¸ç”Ÿæ•ˆ

æ£€æŸ¥ `config/routes.ts` ä¸­çš„è·¯ç”±é…ç½®å’Œé¡µé¢ç»„ä»¶è·¯å¾„ã€‚

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚ 
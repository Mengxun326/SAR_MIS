# 页面标题配置说明

## 概述

本项目提供了多种方式来配置和管理页面标题，确保每个页面都有合适的浏览器标签页标题。

## 配置方法

### 1. 路由配置中设置标题（推荐）

在 `config/routes.ts` 中为每个路由添加 `title` 属性：

```typescript
{
  path: '/student/list',
  component: './Student/List',
  name: '学生列表',
  title: '学生列表 - 学生学籍管理系统'
}
```

**优点**：
- 集中管理所有页面标题
- 自动生效，无需在组件中额外配置
- 支持动态路由参数

### 2. 使用自定义Hook（动态标题）

在页面组件中使用 `useDocumentTitle` Hook：

```typescript
import useDocumentTitle from '@/hooks/useDocumentTitle';
import { PAGE_TITLES } from '@/constants/pageTitles';

const MyComponent: React.FC = () => {
  // 设置页面标题
  useDocumentTitle(PAGE_TITLES.STUDENT_LIST);
  
  return <div>页面内容</div>;
};
```

**优点**：
- 支持动态标题更新
- 可以根据页面状态修改标题
- 组件卸载时自动恢复标题

### 3. 全局标题配置

在 `src/app.tsx` 中配置全局标题规则：

```typescript
export const layout: RunTimeLayoutConfig = ({ initialState }) => {
  return {
    title: '学生学籍管理信息系统',
    pageTitleRender: (props, defaultPageTitle, info) => {
      if (defaultPageTitle) {
        return `${defaultPageTitle}`;
      }
      return '学生学籍管理信息系统';
    },
    // ... 其他配置
  };
};
```

### 4. 标题常量管理

使用 `src/constants/pageTitles.ts` 统一管理所有页面标题：

```typescript
export const PAGE_TITLES = {
  SYSTEM_NAME: '学生学籍管理信息系统',
  STUDENT_LIST: '学生列表',
  STUDENT_ADD: '添加学生',
  // ... 更多标题
};
```

## 使用示例

### 基础用法
```typescript
// 在组件中设置固定标题
useDocumentTitle('学生列表');
```

### 使用常量
```typescript
// 使用预定义的标题常量
useDocumentTitle(PAGE_TITLES.STUDENT_LIST);
```

### 动态标题
```typescript
// 根据数据动态生成标题
const [studentName, setStudentName] = useState('');
useDocumentTitle(studentName ? `${studentName} - 学生详情` : '学生详情');
```

### 自定义后缀
```typescript
// 使用自定义系统名称后缀
useDocumentTitle('特殊页面', '我的系统');
// 结果：特殊页面 - 我的系统
```

## 最佳实践

1. **优先使用路由配置**：对于静态标题，建议在路由配置中设置
2. **动态标题使用Hook**：需要根据数据变化的标题使用 `useDocumentTitle`
3. **统一标题格式**：使用 `页面名称 - 系统名称` 的格式
4. **使用常量管理**：将所有标题定义在常量文件中，便于维护
5. **避免重复设置**：如果路由已配置标题，组件中就不需要再设置

## 文件结构

```
src/
├── hooks/
│   └── useDocumentTitle.ts     # 页面标题Hook
├── constants/
│   └── pageTitles.ts          # 页面标题常量
├── app.tsx                    # 全局配置
└── pages/
    └── Welcome.tsx            # 示例页面
config/
└── routes.ts                  # 路由配置
```

## 注意事项

1. **SEO友好**：合适的页面标题有助于搜索引擎优化
2. **用户体验**：清晰的标题帮助用户识别当前页面
3. **浏览器兼容性**：所有现代浏览器都支持动态修改 `document.title`
4. **内存泄漏**：`useDocumentTitle` Hook 会在组件卸载时自动清理

## 更新记录

- 2024-01-01: 创建页面标题配置系统
- 2024-01-01: 添加自定义Hook支持
- 2024-01-01: 完善标题常量管理 